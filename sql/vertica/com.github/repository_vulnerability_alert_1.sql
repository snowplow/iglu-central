-- AUTO-GENERATED BY schema-ddl DO NOT EDIT
-- Generator: schema-ddl 0.4.3
-- Generated: 2018-05-03 16:29

CREATE SCHEMA IF NOT EXISTS atomic;

CREATE TABLE IF NOT EXISTS atomic.com_github_repository_vulnerability_alert_1 (
    schema_vendor                       varchar(128)  not null           encoding rle,
    schema_name                         varchar(128)  not null           encoding rle,
    schema_format                       varchar(128)  not null           encoding rle,
    schema_version                      varchar(128)  not null           encoding rle,
    root_id                             char(36)      not null           encoding gzip_comp,
    root_tstamp                         timestamp     not null           encoding deltaval,
    ref_root                            varchar(255)  not null           encoding rle,
    ref_tree                            varchar(1500) not null           encoding rle,
    ref_parent                          varchar(255)  not null           encoding rle,
    action                              varchar(4096) null               encoding gzip_comp,
    alert_affected_package_name         varchar(4096) null               encoding gzip_comp,
    alert_affected_range                varchar(4096) null               encoding gzip_comp,
    alert_dismiss_reason                varchar(4096) null               encoding gzip_comp,
    alert_dismissed_at                  timestamp     null               encoding gzip_comp,
    alert_dismisser_avatar_url          varchar(4096) null               encoding gzip_comp,
    alert_dismisser_events_url          varchar(4096) null               encoding gzip_comp,
    alert_dismisser_followers_url       varchar(4096) null               encoding gzip_comp,
    alert_dismisser_following_url       varchar(4096) null               encoding gzip_comp,
    alert_dismisser_gists_url           varchar(4096) null               encoding gzip_comp,
    alert_dismisser_gravatar_id         varchar(4096) null               encoding gzip_comp,
    alert_dismisser_html_url            varchar(4096) null               encoding gzip_comp,
    alert_dismisser_id                  smallint      null               encoding gzip_comp,
    alert_dismisser_login               varchar(4096) null               encoding gzip_comp,
    alert_dismisser_organizations_url   varchar(4096) null               encoding gzip_comp,
    alert_dismisser_received_events_url varchar(4096) null               encoding gzip_comp,
    alert_dismisser_repos_url           varchar(4096) null               encoding gzip_comp,
    alert_dismisser_site_admin          boolean       null               encoding auto,
    alert_dismisser_starred_url         varchar(4096) null               encoding gzip_comp,
    alert_dismisser_subscriptions_url   varchar(4096) null               encoding gzip_comp,
    alert_dismisser_type                varchar(4096) null               encoding gzip_comp,
    alert_dismisser_url                 varchar(4096) null               encoding gzip_comp,
    alert_external_identifier           varchar(4096) null               encoding gzip_comp,
    alert_external_reference            varchar(4096) null               encoding gzip_comp,
    alert_fixed_in                      varchar(4096) null               encoding gzip_comp,
    alert_id                            int           null               encoding gzip_comp,
    FOREIGN KEY (root_id) REFERENCES atomic.events(event_id)
)
ORDER BY 
    schema_vendor,
    schema_name,
    schema_format,
    schema_version,
    ref_root,
    ref_tree,
    ref_parent,
    root_tstamp,
    root_id
SEGMENTED BY 
    hash(root_id) ALL NODES
;

COMMENT ON TABLE atomic.com_github_repository_vulnerability_alert_1 IS 'iglu:com.github/repository_vulnerability_alert/jsonschema/1-0-0';
